<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
          content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>
        Build a Survey Form using HTML and CSS
    </title>
    <link rel="icon" href="/static/pics/logo-small.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/survey.css" />
</head>


<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 shadow fixed-top">
        <div class="container">
            <!--<a href="{{ url_for('index') }}" class="navbar-brand text-danger">hot<span class="text-warning">Brain</span></a>-->
            <a href="{{ url_for('index') }}" class="navbar-brand">
                <img src="/static/pics/clearlogo.png" width="90" height"90" class="d-inline-block align-top">
            </a>
    
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
                <span class="navbar-toggler-icon"></span>
            </button>
    
            <div class="collapse navbar-collapse" id="navmenu">
                <ul class="navbar-nav ms-auto">
                  <li class="nav-item">
                      <a href="{{ url_for('index') }}" class="nav-link">Home</a>
                  </li>
                  <li class="nav-item">
                      <a href="{{ url_for('about') }}" class="nav-link">About</a>
                  </li>
                  <li class="nav-item">
                      <a href="{{ url_for('testo') }}" class="nav-link">Testomonials</a>
                  </li>
                  <li class="nav-item">
                      <a href="{{ url_for('connect') }}" class="nav-link">Connect</a>
                  </li>
                  </li>
                  {% if current_user.is_authenticated %}
                  <li class="nav-item">
                      <a href="{{ url_for('logout') }}" class="nav-link">Logout</a>
                  </li>
                  {% else %}
                  <li class="nav-item">
                      <a href="{{ url_for('login') }}" class="nav-link">Login</a>
                  </li>
                  <li class="nav-item">
                      <a href="{{ url_for('signup') }}" class="nav-link">Signup</a>
                  </li>
                  {% endif %}
                
                </ul>
            </div>
        </div>
    </nav>

<div class="survey-container">
    <img src="/static/pics/clearlogo.png" 
     alt="Logo" 
     style="height:90; width: 200px;"
    >
    <h1>Hot Brain Survey</h1>
  

    <!-- Create Form -->
    <form id="form" action="/survey2" method="post" onsubmit="return validateForm()">



        <div class="form-control">
            <label>9. What pronouns are you looking for?</label>
    
            <label for="P-1">
                <input type="radio" id="P-1" name="gender_pref" value=1>she/her/hers
            </label>

            <label for="P-2">
                <input type="radio" id="P-2" name="gender_pref" value=2>he/him/his
            </label>

            <label for="P-3">
                <input type="radio" id="P-3" name="gender_pref" value=3>they/them/their
            </label>

            <label for="P-4">
                <input type="radio" id="P-4" name="gender_pref" value=4>Do not wish to disclose
            </label>
  
        </div>



        <div class="form-control">
            <label>
                10. What is your ideal age range?
            </label>

            <form onsubmit="return validateForm()">
                <label for="minAge">Minimum Age:</label>
                <input type="number" id="minAge" name="minAge" min="18" placeholder="Minimum Age" value=18 required>
            
                <label for="maxAge">Maximum Age:</label>
                <input type="number" id="maxAge" name="maxAge" min="18" placeholder="Maximum Age" value=99 required>
            
            </form>
            

        <div class="form-control">
            <label>11.What race(s) are you looking for?
                <small>(Check all that apply)</small>
            </label>
            <label for="inp-0">
                <input type="checkbox" name="race" value=0> I do not have race prefrence (All)
            </label>
            <label for="inp-1">
                <input type="checkbox" name="race" value=1> White
            </label>
            <label for="inp-2">
                <input type="checkbox" name="race" value=2> Black or African American
            </label>
            <label for="inp-3">
                <input type="checkbox" name="race" value=3> Hispanic or Latino
            </label>
            <label for="inp-4">
                <input type="checkbox" name="race" value=4> Asian or Asian American
            </label>
            <label for="inp-5">
                <input type="checkbox" name="race" value=5> American Infian or Alaska Native
            </label>
            <label for="inp-6">
                <input type="checkbox" name="race" value=6> Native Jawaiian or other Pacific Islander
            </label>
            <label for="inp-7">
                <input type="checkbox" name="race" value=7> Middle Eastern/North African
            </label>

            <label for="inp-8">
                <input type="checkbox" name="other_rel" id="other-checkbox"> Other
                <input type="text" id="other_religion" name="other_religion">
            </label>

        </div>

 
        <div class="form-control">
            <label>12.Do you have a religious prefrence
                <small>(Check all that apply)</small>
            </label>

            <!-- Input Type Checkbox -->
            <label for="rel-0">
                <input type="checkbox" name="rel" value=0> I do not have religion prefrence (All)
            </label>

            <label for="rel-1">
                <input type="checkbox" name="rel" value=1> Muslim 
            </label>

            <label for="rel-2">
                <input type="checkbox" name="rel" value=2> Christian
            </label>

            <label for="rel-3">
                <input type="checkbox" name="rel" value=3> Jew
            </label>

            <label for="rel-4">
                <input type="checkbox" name="rel" value=4> None
            </label>

            <label for="rel-4">
                <input type="checkbox" name="rel" value=5> Other
            </label>

            <label for="rel-5">
                <input type="checkbox" name="other_rel" id="other-checkbox"> Other
                <input type="text" id="other_religion" name="other_religion">
            </label>

        </div>

        <div class="next">
            <button class="next-button" type="submit">Next</button>
        </div>

    </form>
</div>
<script>
    function validateForm(){
        var pronouns_pref_check = false;
        var race_pref_check = false;
        var religion_pref_check = false;


        var gender_pref_input = document.getElementsByName('gender_pref');
        var race_pref_input = document.getElementsByName('race');
        var religion_pref_input = document.getElementsByName('rel')

        var age_min_input = document.getElementById('minAge').value;
        var age_max_input = document.getElementById('maxAge').value;

        for (var i = 0; i < gender_pref_input.length; i++) {
            if (gender_pref_input[i].checked) {
                pronouns_pref_check = true;
                break;
            }
        }

        for(var i = 0; i < race_pref_input.length; i++){
            if(race_pref_input[i].checked){
                race_pref_check = true;
                break;
            }
        }

        for(var i = 0; i < religion_pref_input.length; i++){
            if(religion_pref_input[i].checked){
                religion_pref_check = true;
                break;
            }
        }
        
        
        
        if(age_max_input < age_min_input || age_max_input < 18 || age_min_input < 18){
            alert("Please enter valid age ranges (minimum: 18, maximum: 99) and ensure minimum age is not greater than maximum age.");
            return false;
        }

        
        if (!pronouns_pref_check || !race_pref_check || !religion_pref_check ){
            alert('Please answer all the questions before submitting.');
            return false;
        }

        return true;
    }
</script>
</body>
</html>